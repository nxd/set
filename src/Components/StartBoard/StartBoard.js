import React from 'react';
import './StartBoard.css';

const setSvg =
	<svg version="1.1" id="Layer_1" x="0px" y="0px"
	 viewBox="0 0 432 199.631">
		<path fill-rule="evenodd" clip-rule="evenodd" d="M81.039,5.435c9.528,0.683,19.059,1.336,28.583,2.076
			c1.77,0.137,3.538,0.521,5.261,0.968c4.355,1.13,5.698,3.048,5.296,7.536c-0.393,4.394-0.873,8.78-1.319,13.169
			c-0.35,3.447-0.728,6.893-1.054,10.342c-0.42,4.444-1.841,5.633-6.308,5.383c-12.06-0.678-24.116-1.408-36.183-1.922
			c-3.651-0.155-7.377,0.026-10.986,0.587c-8.036,1.249-11.207,6.258-9.45,14.278c1.09,4.975,4.372,8.342,8.384,10.986
			c4.114,2.711,8.411,5.162,12.724,7.556c6.609,3.667,13.342,7.115,19.945,10.794c6.619,3.688,12.917,7.853,18.431,13.12
			c7.134,6.815,11.147,15.182,12.272,24.907c1.533,13.259,1.34,26.439-3.015,39.237c-4.117,12.095-12.649,19.76-24.584,23.895
			c-10.262,3.556-20.908,4.608-31.654,4.659c-13.704,0.064-27.232-1.714-40.607-4.649c-1.424-0.312-2.841-0.795-4.163-1.41
			c-2.344-1.092-3.795-2.978-4.093-5.582c-0.154-1.347-0.233-2.737-0.08-4.077c0.79-6.885,1.6-13.768,2.536-20.633
			c0.584-4.281,2.157-5.39,6.394-4.769c6.023,0.882,12.029,1.888,18.059,2.72c8.767,1.211,17.558,1.748,26.37,0.396
			c0.311-0.048,0.625-0.082,0.935-0.142c13.909-2.661,19.378-17.548,10.587-28.792c-3.379-4.321-7.852-7.3-12.564-9.851
			c-6.738-3.647-13.651-6.972-20.473-10.466c-7.128-3.651-13.883-7.869-19.846-13.271c-8.945-8.104-14.037-18.188-15.508-30.133
			c-1.021-8.292-0.833-16.549,0.705-24.774c2.78-14.878,11.412-24.368,25.978-28.561c9.601-2.763,19.437-3.249,29.324-3.392
			c3.361-0.048,6.723-0.007,10.084-0.007C81.025,5.555,81.032,5.495,81.039,5.435z"/>
		<path fill-rule="evenodd" clip-rule="evenodd" d="M157.691,99.058c0.207-16.176,0.291-32.354,0.682-48.525
			c0.158-6.531,1.585-12.919,4.181-18.97c4.628-10.793,12.889-17.352,24.05-20.5c7.445-2.099,15.068-2.75,22.762-2.763
			c13.974-0.024,27.948-0.024,41.921-0.004c5.177,0.008,6.531,1.366,6.553,6.558c0.032,7.565,0.04,15.129-0.003,22.694
			c-0.028,4.985-1.406,6.32-6.433,6.34c-11.348,0.048-22.695-0.01-34.04,0.146c-3.446,0.047-6.915,0.471-10.32,1.043
			c-5.265,0.885-8.75,4.188-9.194,9.413c-0.665,7.831-0.604,15.725-0.768,23.593c-0.034,1.611,1.029,2.452,2.656,2.483
			c0.841,0.017,1.681,0.019,2.521,0.019c11.557,0.001,23.115-0.01,34.671,0.006c5.187,0.007,6.603,1.386,6.623,6.484
			c0.031,7.565,0.029,15.129,0.002,22.695c-0.019,5.171-1.315,6.451-6.619,6.463c-11.662,0.029-23.324,0.005-34.987,0.014
			c-4.446,0.004-4.916,0.47-4.926,4.839c-0.011,4.518-0.04,9.036,0.015,13.554c0.028,2.309,0.129,4.624,0.355,6.921
			c0.815,8.301,4.554,12.028,12.864,12.677c4.289,0.334,8.599,0.526,12.9,0.564c9.455,0.083,18.911,0.01,28.367,0.035
			c4.856,0.013,6.271,1.354,6.306,6.127c0.055,7.774,0.05,15.55,0,23.324c-0.03,4.637-1.459,6.072-6.029,6.072
			c-13.868-0.003-27.739,0.092-41.604-0.145c-8.305-0.142-16.522-1.236-24.503-3.79c-14.574-4.664-23.38-14.53-26.048-29.495
			c-1.155-6.475-1.549-13.141-1.68-19.732c-0.254-12.708-0.074-25.424-0.074-38.138C157.826,99.06,157.758,99.059,157.691,99.058z"/>
		<path fill-rule="evenodd" clip-rule="evenodd" d="M328.363,115.917c-0.001-22.276-0.001-44.553-0.001-66.829
			c0-0.841-0.02-1.682-0.003-2.522c0.041-1.968-0.915-2.913-2.878-2.874c-0.84,0.017-1.681-0.006-2.521-0.006
			c-9.877-0.001-19.755,0.021-29.632-0.012c-4.713-0.016-6.242-1.518-6.275-6.249c-0.055-7.67-0.056-15.341,0.003-23.012
			c0.034-4.576,1.538-6.105,6.07-6.108c36.357-0.025,72.715-0.024,109.071-0.003c4.589,0.002,6.09,1.49,6.122,6.037
			c0.055,7.775,0.06,15.552-0.002,23.327c-0.036,4.522-1.572,5.992-6.168,6.008c-9.667,0.034-19.335,0.01-29.001,0.012
			c-5.842,0-5.843,0.002-5.843,5.698c-0.001,44.238,0,88.476-0.001,132.714c0,7.571-0.702,8.273-8.268,8.273
			c-8.092,0.001-16.182,0.017-24.273-0.008c-4.987-0.015-6.391-1.398-6.394-6.356C328.355,161.311,328.364,138.613,328.363,115.917z"
			/>
	</svg>

const gameModeSettings = {
	easy: {
		numCards: 9,
		minSets: 4,
		easyMode: true,
		numAttr: 3,
		showTimer: false,
		timerLabel: 'no timer',
		display: true
	},
	normal: {
		numCards: 12,
		minSets: 6,
		easyMode: false,
		numAttr: 4,
		showTimer: true,
		timerLabel: 'timer on',
		display: true
	},
	hard: {
		numCards: 15,
		minSets: 8,
		easyMode: false,
		numAttr: 4,
		showTimer: true,
		timerLabel: 'timer on',
		display: true
	},
	default: {
		numCards: 9,
		minSets: 4,
		easyMode: true,
		numAttr: 3,
		showTimer: false,
		timerLabel: 'no timer',
		display: false
	}
}


class StartBoard extends React.Component {

	constructor(props) {
		super(props);

		this.state = {
			hoverMode: 'default'
		}

		this.startGame = this.startGame.bind(this);

		this.setHoverMode = this.setHoverMode.bind(this);
	}

	startGame(mode){

		let modeSettings = gameModeSettings[mode];

		let newSettings = {
			numCards: modeSettings.numCards,
			minSets: modeSettings.minSets,
			easyMode: modeSettings.easyMode,
			showTimer: modeSettings.showTimer,
		}

		this.props.updateSettings(newSettings, false);

	}

	setHoverMode(mode) {
		this.setState({
			hoverMode: mode
		})
	}

	renderDescriptions(mode) {

		if(mode == null) {
			return(null);
		}

		let modeSettings = gameModeSettings[mode];

		return(
			<ul className={`pregame-mode-list ${modeSettings.display ? null : 'mode-hidden'}`}>
				<li className='pregame-mode-item'>{modeSettings.numAttr} attributes</li>
				<li className='pregame-mode-item'>{modeSettings.numCards} cards</li>
				<li className='pregame-mode-item'>{modeSettings.minSets} SETs</li>
				<li className='pregame-mode-item'>{modeSettings.timerLabel}</li>
			</ul>
		)		
	}

	renderStartBoard() {
		if(this.props.pregame){
			return(
				<div className='pregame-container'>
					<div className='set-svg-container'>
						{setSvg}
					</div>
					<div className='pregame-btn-row-container'>
						<div className='pregame-btn-row'>
							<div 
								className='pregame-btn' 
								onClick= {() => this.startGame('easy')}
								onMouseEnter= {() => this.setHoverMode('easy')}
								onMouseLeave={() => this.setHoverMode('default')}
							>
								Easy
							</div>
							<div 
								className='pregame-btn' 
								onClick= {() => this.startGame('normal')}
								onMouseEnter= {() => this.setHoverMode('normal')}
								onMouseLeave={() => this.setHoverMode('default')}
							>
								Normal
							</div>
							<div 
								className='pregame-btn' 
								onClick= {() => this.startGame('hard')}
								onMouseEnter= {() => this.setHoverMode('hard')}
								onMouseLeave={() => this.setHoverMode('default')}
							>
								Hard
							</div>
						</div>
					</div>
					<div className='pregame-mode-container'>
						{this.renderDescriptions(this.state.hoverMode)}
					</div>
				</div>
			)
		} else {
			return (null);
		};

	}

	render() {
		return(this.renderStartBoard());
	}
};

export default StartBoard;